#############################
path = "_GITHUB REPO _TOFFEE_"
#############################
library(roxygen2)
roxygen2::roxygenize(path)
try_seed <- function(expr, maxrun = 100) {
expr <- substitute(expr)
for (i in 1:maxrun) {
seed <- round(runif(1, 1000, 9999))
set.seed(seed)
eval(expr, envir = parent.frame())
readline(sprintf("seed = %s, Press space to continue!", seed))
}
}
})
try_seed({
hist(rnorm(100))
})
#' Try different seeds for a particular chunk of code
#' @description (Re)runs a chunk of code any time you press enter, every time providing the seed used. Useful if the code includes random number generation
#' @param expr
#' @param maxrun The maximum number of times it reruns the code
#'
#' @return
#' @export
#'
#' @examples
try_seed <- function(expr, maxrun = 100) {
expr <- substitute(expr)
for (i in 1:maxrun) {
seed <- round(runif(1, 0, 99999))
set.seed(seed)
eval(expr, envir = parent.frame())
readline(sprintf("seed = %s, Press enter to continue!", seed))
}
}
try_seed({
hist(rnorm(100))
})
try_seed({
a = rnorm(1,0,1)
a
})
try_seed(maxrun=2,{
a = rnorm(1,0,1)
a
})
try_seed({
a = rnorm(1,0,1)
print(a)
})
try_seed({
a = rnorm(1,0,1)
print(a)
})
try_seed(expr={
a = rnorm(1,0,1)
print(a)
})
